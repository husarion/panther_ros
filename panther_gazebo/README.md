# panther_gazebo

The package contains a launch file and source files used to run the robot simulation in Gazebo. The simulator tries to reproduce the behavior of a real robot as much as possible, including the provision of an analogous ROS_API.

## Launch Files

- `spawn_robot.launch.py` - is responsible for spawning the robot in the simulator
- `simulate_robot.launch.py` - is responsible for giving birth to the robot and simulating its physical behavior, such as driving, displaying data, etc.
- `simulate_multiple_robots.launch.py` - similar to the above with logic allowing you to quickly add a swarm of robots
- **`simulation.launch.py`** - a target file that runs the gazebo simulator and adds and simulates the robot's behavior in accordance with the given arguments.

### spawn_robot - Launch Arguments

| Argument                    | Description <br/> ***Type:*** `Default`                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `fuse_gps`                  | Include GPS for data fusion. Valid choices are: ['False', 'True'] <br/> ***bool:*** `'False'`                                                                                                                                                                                                                                                                                                                                                                                      |
| `gz_bridge_config_path`     | Path to the parameter_bridge configuration file. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_gazebo') + 'config' + 'gz_bridge.yaml''`)                                                                                                                                                                                                                                                                                                                           |
| `led_config_file`           | Path to a YAML file with a description of led configuration. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_lights') + 'config' + 'led_config.yaml''`)                                                                                                                                                                                                                                                                                                               |
| `lights_bt_project_path`    | Path to BehaviorTree project file, responsible for lights management. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_manager') + 'behavior_trees' + 'PantherLightsBT.btproj''`)                                                                                                                                                                                                                                                                                      |
| `localization_config_path`  | Specify the path to the localization configuration file. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_localization') + 'config' + PythonExpr(''' + PythonExpr(''' + LaunchConfig('localization_mode') + '_'') + 'localization' + PythonExpr(''_with_gps' if ' + LaunchConfig('fuse_gps') + ' else ''') + '.yaml'')`)                                                                                                                                                |
| `localization_mode`         | Specifies the localization mode: <br/> - 'relative' odometry/filtered data is relative to the initial position and orientation. <br/> - 'enu' odometry/filtered data is relative to initial position and ENU (East North Up) orientation. Valid choices are: ['relative', 'enu'] <br/> ***string:*** `'relative'`                                                                                                                                                                |
| `publish_robot_state`       | Whether to launch the robot_state_publisher node. When set to False, users should publish their own robot description. Valid choices are: ['True', 'False'] <br/> ***bool:*** `'True'`                                                                                                                                                                                                                                                                                           |
| `safety_bt_project_path`    | Path to BehaviorTree project file, responsible for safety and shutdown management. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_manager') + 'behavior_trees' + 'PantherSafetyBT.btproj''`)                                                                                                                                                                                                                                                                        |
| `shutdown_hosts_config_path`| Path to file with list of hosts to request shutdown. <br/> ***string:*** `LocalVar('FindPackageShare(pkg='panther_manager') + 'config' + 'shutdown_hosts.yaml''`)                                                                                                                                                                                                                                                                                                                  |
| `use_ekf`                   | Enable or disable EKF. Valid choices are: ['True', 'False'] <br/> ***bool:*** `'True'`                                                                                                                                                                                                                                                                                                                                                                                            |
| `user_led_animations_file`  | Path to a YAML file with a description of the user defined animations. <br/> ***string:*** `''`                                                                                                                                                                                                                                                                                                                                                                                   |
| All `spawn_robot.launch.py` arguments              | All the previously mentioned arguments are also available for this launch file.                                                                                                                                                                                                                                                                                                                                                                                                   |
